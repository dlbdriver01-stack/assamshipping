ORCHESTRATION — ShipTrak India (Next.js + Firestore + Tailwind + shadcn + Zod)

Read this file BEFORE executing any automation.

PHASE A — Project scaffolding
1. Initialize repository (git init). Create branches: main, develop.
2. Install base packages: Next.js, React, TypeScript.
3. Create folder structure per README.

PHASE B — Styling (Tailwind + shadcn/ui)
1. Install Tailwind and init postcss.
2. Add globals.css with Tailwind directives.
3. Initialize shadcn-ui (npx shadcn-ui@latest init) and add base components.

PHASE C — Firebase
1. Install firebase and firebase-admin.
2. Configure lib/firebase.ts (client) and lib/firebase-admin.ts (server).
3. Add .env.example with required keys (do NOT commit secrets).

PHASE D — Data model, Zod validation
1. Create lib/schemas/shipment.ts with Zod schema.
2. Use schema to validate API payloads and admin forms.

PHASE E — Pages & API
1. Public: / (search), /track/[id] (SSR)
2. Admin: /admin, /admin/shipments, /admin/shipments/new, /admin/shipments/[id]
3. API: /api/shipments route (POST/GET), protected for write actions.

PHASE F — Seeds & scripts
1. scripts/seed-firestore.ts to import data/*.json into Firestore via admin SDK.

PHASE G — Tests & CI
1. Add simple tests for Zod schemas.
2. Add GitHub Actions CI to run lint, tests, build.

PHASE H — Deploy
1. 
2. Ensure SEO: SSR for /track/[id], sitemap, robots.txt.

AGENT RULES
- Do not invent features. Follow phases strictly.
- Validate checkpoints: dev server, build, lint, tests, SSR pages.
- On failure write logs to logs/ and open GitHub issue (automated).
- Use commit messages: feat:, fix:, chore:, docs:, test:.

ENV variables (add to .env.local or Vercel env)
NEXT_PUBLIC_FIREBASE_API_KEY=
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=
NEXT_PUBLIC_FIREBASE_PROJECT_ID=
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=
NEXT_PUBLIC_FIREBASE_APP_ID=
FIREBASE_SERVICE_ACCOUNT_KEY={}  # JSON string; admin only
NEXT_PUBLIC_MAPBOX_TOKEN=
NEXT_PUBLIC_SITE_URL=https://shiptrak.in

Useful commands:
npm ci
npm run dev
npm run build
node scripts/seed-firestore.js
npx shadcn-ui@latest init
